<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Your Cart — LUXE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- ================= HEADER ================= -->
    <nav class="navbar bg-white py-3 border-bottom">
      <div class="container">
        <a class="navbar-brand fw-bold" href="index.html">LUXE</a>
        <a href="index.html" class="btn btn-outline-dark btn-sm">Continue Shopping</a>
      </div>
    </nav>

    <!-- ================= CART ================= -->
    <section class="py-5">
      <div class="container">
        <h2 class="mb-4">Shopping Cart</h2>

        <div class="row g-4">
          <!-- CART ITEMS -->
          <div class="col-md-8">
            <div class="checkout-card">
              <div class="cart-items"></div>

              <!-- EMPTY STATE -->
              <div class="empty-cart text-center d-none">
                <p class="text-muted mb-3">Your cart is currently empty.</p>
                <a href="index.html" class="btn btn-dark">Shop Collection</a>
              </div>
            </div>
          </div>

          <!-- SUMMARY -->
          <div class="col-md-4">
            <div class="checkout-card">
              <h5>Order Summary</h5>

              <div class="summary-row mt-3">
                <span>Subtotal</span>
                <span class="cart-total">$0.00</span>
              </div>

              <div class="summary-row">
                <span>Shipping</span>
                <span>Free</span>
              </div>

              <hr />

              <div class="summary-row total">
                <span>Total</span>
                <span class="cart-total">$0.00</span>
              </div>

              <a href="checkout.html" class="btn btn-dark w-100 mt-3"> Proceed to Checkout </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer class="footer text-center">
      <div class="container">
        <small>© 2024 LUXE. All rights reserved.</small>
      </div>
    </footer>

    <!-- ================= SCRIPTS ================= -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/cart.js"></script>

    <!-- CART PAGE RENDER -->
    <script>
      function renderCartPage() {
        const itemsEl = document.querySelector('.cart-items');
        const emptyEl = document.querySelector('.empty-cart');
        const totalEls = document.querySelectorAll('.cart-total');

        if (!cart.length) {
          itemsEl.innerHTML = '';
          emptyEl.classList.remove('d-none');
          totalEls.forEach((el) => (el.innerText = '$0.00'));
          return;
        }

        emptyEl.classList.add('d-none');
        itemsEl.innerHTML = '';

        let total = 0;

        cart.forEach((item) => {
          total += item.price * item.qty;

          itemsEl.innerHTML += `
      <div class="cart-item align-items-center">
        <img src="${item.image}" width="80" class="rounded">

        <div class="flex-grow-1">
          <h6 class="mb-1">${item.name}</h6>
          <small class="text-muted">$${item.price}</small>

          <div class="qty-control mt-2">
            <button onclick="updateQty(${item.id}, ${item.qty - 1})">−</button>
            <span>${item.qty}</span>
            <button onclick="updateQty(${item.id}, ${item.qty + 1})">+</button>
          </div>
        </div>

        <strong>$${(item.price * item.qty).toFixed(2)}</strong>

        <button class="btn btn-sm btn-link text-danger"
          onclick="removeFromCart(${item.id})">×</button>
      </div>
      <hr>
    `;
        });

        totalEls.forEach((el) => (el.innerText = `$${total.toFixed(2)}`));
      }

      renderCartPage();
    </script>
  </body>
</html>
